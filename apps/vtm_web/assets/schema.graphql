schema {
  query: RootQueryType
  mutation: RootMutationType
  subscription: RootSubscriptionType
}

type Attribute implements Node {
  attributeType: AttributeType
  description: String

  """The ID of an object"""
  id: ID!
  name: String
}

type AttributeType implements Node {
  """The ID of an object"""
  id: ID!
  name: String
  section: String
}

type Character implements Node {
  advantages: String
  aggravatedDamage: Int
  approved: Boolean
  avatar: String
  biography: String
  chatAvatar: String
  clan: Clan
  damage: Int
  description: String
  experience: Int
  generation: Int
  health: Int
  humanity: Int
  hunger: Int

  """The ID of an object"""
  id: ID!
  isComplete: Boolean
  isNpc: Boolean
  name: String
  notes: String
  predatorType: PredatorType
  stage: Int
  willpower: Int
  willpowerDamage: Int
}

input CharacterAttributeRequest {
  attributeId: ID!
  characterId: ID!
  value: Int!
}

input CharacterCreationRequest {
  avatar: String
  biography: String!
  chatAvatar: String
  clanId: String!
  description: String!
  isNpc: Int
  name: String!
}

input CharacterFinalizationRequest {
  advantages: String!
  notes: String
  predatorTypeId: ID!
}

type CharacterInfo implements Node {
  """The ID of an object"""
  id: ID!
  name: String
}

input ChatEntryRequest {
  characterId: ID!
  chatMapId: ID!
  result: String
  text: String
}

type ChatLocation implements Node {
  children: [ChatLocation]
  description: String

  """The ID of an object"""
  id: ID!
  image: String
  isChat: Boolean
  name: String
}

type Clan implements Node {
  """The ID of an object"""
  id: ID!
  name: String
}

type CreationResult {
  id: ID
}

type Discipline implements Node {
  description: String

  """The ID of an object"""
  id: ID!
  name: String
}

input FinalizeCharacterCreationInput {
  attributes: [CharacterAttributeRequest]
  newStage: Int!
  request: CharacterFinalizationRequest!
}

type FinalizeCharacterCreationPayload {
  result: Character
}

type MapChatEntry implements Node {
  characterChatAvatar: String
  characterId: ID
  characterName: String
  chatMapId: ID

  """The ID of an object"""
  id: ID!
  result: String
  text: String
}

interface Node {
  """The ID of the object."""
  id: ID!
}

type PredatorType implements Node {
  description: String

  """The ID of an object"""
  id: ID!
  name: String
}

enum Role {
  MASTER
  USER
}

type RootMutationType {
  appendCharacterAttributes(newStage: Int!, request: [CharacterAttributeRequest]): Character
  createCharacter(request: CharacterCreationRequest): CharacterInfo
  createChatEntry(entry: ChatEntryRequest): MapChatEntry
  createUser(email: String!, name: String!, password: String!): CreationResult
  finalizeCharacterCreation(input: FinalizeCharacterCreationInput!): FinalizeCharacterCreationPayload
  login(email: String!, password: String!, remember: Boolean!): Session
}

type RootQueryType {
  attributes: [Attribute]
  clanDisciplines(clanId: ID!): [Discipline]
  clans: [Clan]
  getCharacter(id: ID): Character
  list: [User]
  mainMaps: [ChatLocation]
  map(id: ID): ChatLocation
  mapChatEntries(mapId: ID): [MapChatEntry]
  me: User
  predatorTypes: [PredatorType]
  sectionMaps(parentId: ID): [ChatLocation]
}

type RootSubscriptionType {
  newChatEntry(mapId: ID!): MapChatEntry
}

type Session {
  token: String
  user: User
}

type User {
  email: String
  id: ID
  name: String
  role: Role
  userCharacters: [Character]
}

